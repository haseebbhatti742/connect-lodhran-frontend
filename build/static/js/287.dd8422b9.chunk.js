"use strict";(self.webpackChunkconnect_lodhran_frontend=self.webpackChunkconnect_lodhran_frontend||[]).push([[287],{9287:function(e,t,a){a.r(t);var n=a(9658),s=a(8096),l=a(4925),d=a(9321),r=a(290),i=a(7071),o=a(1889),p=a(8029),h=a(3967),c=a(9276),x=a(8491),u=a(3116),g=a(2791),m=a(6871),y=a(7305),j=a(6176),Z=a(9018),v=a(184);t.default=function(){const e=(0,h.Z)(),[t,a]=(0,g.useState)([]),[I,M]=(0,g.useState)([]),[S,P]=(0,g.useState)(!1),[k,b]=(0,g.useState)(!1),[f,B]=(0,g.useState)(""),[D,R]=(0,g.useState)(j.M8),C=(0,m.s0)();(0,g.useEffect)((()=>{P(!0),u.Z.getAllIsps().then((e=>{a(null===e||void 0===e?void 0:e.data),P(!1),b(!1)})).catch((e=>{var t,a;B(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message),b(!0),P(!1)}))}),[]);const W=e=>{P(!0),u.Z.getAllPackages(e).then((e=>{var t,a;M(null===e||void 0===e?void 0:e.data),R(null===e||void 0===e||null===(t=e.data[0])||void 0===t||null===(a=t.isp)||void 0===a?void 0:a.color),P(!1),b(!1)})).catch((e=>{var t,a;B(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message),b(!0),P(!1)}))};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("h3",{children:"Add Entry Details"}),S&&(0,v.jsx)("h3",{children:"Loading...!"}),k&&(0,v.jsx)(n.Z,{severity:"error",children:f}),(0,v.jsx)(x.J9,{initialValues:{isp:"",userId:"",package:"",paymentMethod:"",tid:"",saleRate:"",expiryDate:""},validationSchema:Z.IP,onSubmit:e=>{console.log("values"),console.log(e),P(!0),u.Z.createEntry(e).then((e=>{P(!1),b(!1),alert("Entry Created"),C("/dashboard/all-entries")})).catch((e=>{var t,a;B(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message),b(!0),P(!1)}))},children:a=>{let{values:n,errors:h,isValid:u,touched:g,handleChange:m,handleBlur:Z,handleSubmit:M,setFieldValue:S}=a;return(0,v.jsxs)("form",{onSubmit:M,children:[(0,v.jsxs)(s.Z,{fullWidth:!0,error:Boolean(g.isp&&h.isp),sx:{...e.typography.customInput},children:[(0,v.jsx)(l.Z,{children:" Select User's ISP "}),(0,v.jsx)(d.Z,{id:"isp",name:"isp",type:"text",value:n.isp,onBlur:Z,onChange:e=>((e,t)=>{const a=e.target.value;t("isp",a),W(a)})(e,S),label:"User's ISP",sx:{paddingTop:"15px"},children:t.map((e=>(0,v.jsx)(r.Z,{value:e.id,children:e.name})))}),g.isp&&h.isp&&(0,v.jsx)(i.Z,{error:!0,id:"standard-weight-helper-text-name",children:h.isp})]}),(0,v.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,v.jsx)(o.ZP,{item:!0,xs:6,children:(0,v.jsxs)(s.Z,{fullWidth:!0,error:Boolean(g.userId&&h.userId),sx:{...e.typography.customInput},children:[(0,v.jsx)(l.Z,{children:" User Id "}),(0,v.jsx)(p.Z,{id:"userId",name:"userId",type:"text",value:n.userId,onBlur:Z,onChange:m,label:"User Id",inputProps:{min:0}}),g.userId&&h.userId&&(0,v.jsx)(i.Z,{error:!0,id:"standard-weight-helper-text-userId",children:h.userId})]})}),(0,v.jsx)(o.ZP,{item:!0,xs:6,children:(0,v.jsxs)(s.Z,{fullWidth:!0,error:Boolean(g.package&&h.package),sx:{...e.typography.customInput},children:[(0,v.jsx)(l.Z,{children:" Select Package "}),(0,v.jsx)(d.Z,{id:"package",name:"package",type:"text",value:n.package,onBlur:Z,onChange:m,label:"Select Package",sx:{paddingTop:"15px"},children:I.map((e=>(0,v.jsx)(r.Z,{value:e.id,children:e.name})))}),g.package&&h.package&&(0,v.jsx)(i.Z,{error:!0,id:"standard-weight-helper-text-package",children:h.package})]})})]}),(0,v.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,v.jsx)(o.ZP,{item:!0,xs:6,children:(0,v.jsxs)(s.Z,{fullWidth:!0,error:Boolean(g.paymentMethod&&h.paymentMethod),sx:{...e.typography.customInput},children:[(0,v.jsx)(l.Z,{children:" Select Payment Method "}),(0,v.jsx)(d.Z,{id:"paymentMethod",name:"paymentMethod",type:"text",value:n.paymentMethod,onBlur:Z,onChange:e=>((e,t)=>{const a=e.target.value;t("paymentMethod",a),"net"!==a&&"pending"!==a||t("tid",""),"pending"===a&&t("saleRate",0)})(e,S),label:"Select Payment Method",sx:{paddingTop:"15px"},children:j.LM.map((e=>(0,v.jsx)(r.Z,{value:e.key,children:e.value})))}),g.paymentMethod&&h.paymentMethod&&(0,v.jsx)(i.Z,{error:!0,id:"standard-weight-helper-text-paymentMethod",children:h.paymentMethod})]})}),(0,v.jsx)(o.ZP,{item:!0,xs:6,children:(0,v.jsxs)(s.Z,{fullWidth:!0,error:Boolean(g.tid&&h.tid),sx:{...e.typography.customInput},children:[(0,v.jsx)(l.Z,{children:" TID "}),(0,v.jsx)(p.Z,{id:"tid",name:"tid",type:"text",value:n.tid,onBlur:Z,onChange:m,label:"TID",inputProps:{min:0},disabled:"net"===n.paymentMethod||"pending"===n.paymentMethod}),g.tid&&h.tid&&(0,v.jsx)(i.Z,{error:!0,id:"standard-weight-helper-text-tid",children:h.tid})]})})]}),(0,v.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,v.jsx)(o.ZP,{item:!0,xs:6,children:(0,v.jsxs)(s.Z,{fullWidth:!0,error:Boolean(g.saleRate&&h.saleRate),sx:{...e.typography.customInput},children:[(0,v.jsx)(l.Z,{children:" Sale Rate "}),(0,v.jsx)(p.Z,{id:"saleRate",name:"saleRate",type:"number",value:n.saleRate,onBlur:Z,onChange:m,label:"Sale Rate",inputProps:{min:0},sx:{paddingTop:"15px"},disabled:"pending"===n.paymentMethod}),g.saleRate&&h.saleRate&&(0,v.jsx)(i.Z,{error:!0,id:"standard-weight-helper-text-sale-rate",children:h.saleRate})]})}),(0,v.jsx)(o.ZP,{item:!0,xs:6,children:(0,v.jsxs)(s.Z,{fullWidth:!0,error:Boolean(g.expiryDate&&h.expiryDate),sx:{...e.typography.customInput},children:[(0,v.jsx)(l.Z,{children:" Expiry Date "}),(0,v.jsx)(p.Z,{id:"expiryDate",name:"expiryDate",type:"date",value:n.expiryDate,onBlur:Z,onChange:m,label:"Expriy Date",sx:{paddingTop:"15px"}}),g.expiryDate&&h.expiryDate&&(0,v.jsx)(i.Z,{error:!0,id:"standard-weight-helper-text-expiryDate",children:h.expiryDate})]})})]}),(0,v.jsxs)("label",{htmlFor:"sendWelcomeMessage",children:[(0,v.jsx)(x.gN,{id:"sendWelcomeMessage",name:"sendWelcomeMessage",type:"checkbox",checked:n.sendWelcomeMessage}),"Send SMS SLert"]}),(0,v.jsx)(c.Z,{sx:{mt:2},children:(0,v.jsx)(o.ZP,{sx:{width:"100%"},children:(0,v.jsx)(y.Z,{isValid:!u,title:"Add Package",color:D})})})]})}})]})}}}]);
//# sourceMappingURL=287.dd8422b9.chunk.js.map