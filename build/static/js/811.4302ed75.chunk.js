"use strict";(self.webpackChunkconnect_lodhran_frontend=self.webpackChunkconnect_lodhran_frontend||[]).push([[811],{8811:function(e,n,i){i.r(n),i.d(n,{default:function(){return k}});var t=i(5527),a=i(9836),l=i(3382),d=i(3994),o=i(9281),r=i(6890),s=i(6812),c=i(5855),h=i(6151),u=i(9658),m=i(6176),g=i(2791),v=i(3116),p=i(2426),x=i.n(p),f=i(224),b=i(6871),j=i(184);const y=[{id:"isp",label:"Isp",minWidth:170},{id:"userId",label:"\xa0User Id",minWidth:100},{id:"packageName",label:"Package",minWidth:170,align:"left",format:e=>e.toLocaleString("en-US")},{id:"paymentMethod",label:"Payment Method\xa0",minWidth:170,align:"left",format:e=>e.toLocaleString("en-US")},{id:"expiryDate",label:"Expiry Date",minWidth:170,align:"right",format:e=>e.toFixed(2)},{id:"action",label:"Action",minWidth:170,align:"right",format:e=>e.toFixed(2)}];function k(){const e=(0,b.s0)(),[n,i]=(0,g.useState)(0),[p,k]=(0,g.useState)(10),[Z,P]=(0,g.useState)([]),[w,S]=(0,g.useState)(!1),[W,M]=(0,g.useState)(!1),[C,D]=(0,g.useState)("");(0,g.useEffect)((()=>{I()}),[]);const I=()=>{S(!0),v.Z.getAllPendingEntries().then((e=>{var n;let i=[];null===e||void 0===e||null===(n=e.data)||void 0===n||n.map((e=>{var n,t,a,l,d,o,r,s;return i.push((a=null===e||void 0===e||null===(n=e.isp)||void 0===n?void 0:n.name,l=null===e||void 0===e?void 0:e.userId,d=null===e||void 0===e||null===(t=e.package)||void 0===t?void 0:t.name,o=(0,f.M)(null===e||void 0===e?void 0:e.paymentMethod),r=x()(null===e||void 0===e?void 0:e.expiryDate).format("DD/MM/YYYY"),s=(0,j.jsx)(Y,{id:null===e||void 0===e?void 0:e.id}),{isp:a,userId:l,packageName:d,paymentMethod:o,expiryDate:r,action:s}))})),P(i),S(!1),M(!1)})).catch((e=>{var n,i;D(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message),M(!0),S(!1)}))},Y=n=>{let{id:i}=n;return(0,j.jsx)(h.Z,{variant:"contained",color:"warning",onClick:()=>(n=>{e(`/dashboard/complete-payment/${n}`)})(i),children:"Pay"})};return(0,j.jsxs)(t.Z,{sx:{width:"100%",overflow:"hidden",mt:4},children:[w&&(0,j.jsx)("h3",{children:"Loading...!"}),W?(0,j.jsx)(u.Z,{severity:"error",children:C}):!w&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.Z,{sx:{maxHeight:440},children:(0,j.jsxs)(a.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,j.jsx)(r.Z,{children:(0,j.jsx)(c.Z,{children:y.map((e=>(0,j.jsx)(d.Z,{align:e.align,style:{minWidth:e.minWidth,backgroundColor:m.qw,color:"white"},children:e.label},e.id)))})}),(0,j.jsx)(l.Z,{children:Z.slice(n*p,n*p+p).map((e=>(0,j.jsx)(c.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:y.map((n=>{const i=e[n.id];return(0,j.jsx)(d.Z,{align:n.align,children:n.format&&"number"===typeof i?n.format(i):i},n.id)}))},e.code)))})]})}),(0,j.jsx)(s.Z,{rowsPerPageOptions:[10,25,100],component:"div",count:Z.length,rowsPerPage:p,page:n,onPageChange:(e,n)=>{i(n)},onRowsPerPageChange:e=>{k(+e.target.value),i(0)}})]})]})}}}]);
//# sourceMappingURL=811.4302ed75.chunk.js.map